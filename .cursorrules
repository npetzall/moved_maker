# Move Maker - Cursor Rules

## Project Context
This is a Rust CLI tool that parses Terraform files and generates `moved` blocks for refactoring resources and data sources into submodules.

## Templates
When generating REQ_, BUG_, or implementation plan documents, always reference and use the templates found in `.cursor/templates/`:
- REQ_ documents: Read and follow `.cursor/templates/req_template.md` as a guide
- BUG_ documents: Read and follow `.cursor/templates/bug_template.md` as a guide
- Implementation plans: Read and follow `.cursor/templates/implementation_plan_template.md` as a guide
Templates define all document structure, sections, formatting, and status header placement - follow them exactly.

## Work Documents - Where to Create Files
- **REQ_ documents**: Create new documents in `plan/XX_Backlog/` (literal folder name, not a placeholder)
  - Use `REQ_` prefix for requests (features, enhancements, modifications)
  - Always use `.cursor/templates/req_template.md` as the template
  - See `plan/.cursorrules` for detailed structure, workflow, and templates
  - Note: `XX_Backlog` is primarily used by rules for new documents; year-week directories (e.g., `YYWW/`) are created manually by users
- **BUG_ documents**: Create new documents in `plan/XX_Backlog/` first (literal folder name, not a placeholder)
  - Use `BUG_` prefix for bug reports
  - Always use `.cursor/templates/bug_template.md` as the template
  - See `plan/.cursorrules` for detailed structure, workflow, and templates
  - Note: `XX_Backlog` is primarily used by rules for new documents; year-week directories (e.g., `YYWW/`) are created manually by users
- **Implementation plans**: When creating implementation plans for REQ_ or BUG_ documents (after review/refinement and when requested by user):
  - Place in a subfolder of `work/` with the same name as the folder where the REQ_ or BUG_ is located
  - Keep the same filename as the REQ_ or BUG_ document
  - Always use `.cursor/templates/implementation_plan_template.md` as the template
  - Example: `plan/YYWW/REQ_EXAMPLE.md` → `work/YYWW/REQ_EXAMPLE.md`
  - Example: `plan/XX_Backlog/BUG_SOMETHING.md` → `work/XX_Backlog/BUG_SOMETHING.md`
  - See `work/.cursorrules` for detailed structure and templates

## Rust Conventions (Project-Wide)
- Follow Rust naming conventions (snake_case for functions/variables, PascalCase for types)
- Prefer `Result<T>` over `Option<T>` for error handling
- Use `anyhow::Result` for error propagation in application code
- Use `panic!()` only for unrecoverable errors (e.g., invalid CLI arguments)
- Prefer iterator chains over explicit loops when idiomatic
- Use `#[derive(Debug)]` on all public types
- Document public APIs with doc comments (`///`)
- Use 4 spaces for indentation, max 100 characters per line
- Use `cargo fmt` for formatting, `cargo clippy` for linting
- Write unit tests with `#[cfg(test)]` modules, integration tests in `tests/`

## Directory-Specific Rules
Nested `.cursorrules` files provide detailed guidance when working in specific directories:
- `src/.cursorrules` - Source code implementation guidelines
- `tests/.cursorrules` - Test writing conventions
- `.github/workflows/.cursorrules` - GitHub Actions workflow guidance
- `.github/scripts/.cursorrules` - Python script development (uv, pytest)
- `examples/.cursorrules` - Terraform example file guidelines
- `plan/.cursorrules` - Planning document structure, workflow, and templates
- `work/.cursorrules` - Implementation plan structure, workflow, and templates
